

This section lists the new features, enhancements, fixed issues and, removed or deprecated features for Hazelcast Jet 0.5 release.

## New Features

- [core] Support for in-memory snapshots and at-least and exactly-once processing. [[#500]](https://github.com/hazelcast/hazelcast-jet/pull/500)
- [core] New Pipeline API with support for group by, hash join and co group. [[#497]](https://github.com/hazelcast/hazelcast-jet/pull/497)
- [core] Improved Jet job lifecycle management including auto-restart. [[#492]](https://github.com/hazelcast/hazelcast-jet/pull/492)
- [core] Event journal streaming source for Map and Cache. [[#487]](https://github.com/hazelcast/hazelcast-jet/pull/487)



## Enhancements


- [core] Add `ProcessorMetaSupplier.complete()` method to support global cleanup. [[#571]](https://github.com/hazelcast/hazelcast-jet/pull/571)
- [core] Socket source now uses non-blocking IO. [[#554]](https://github.com/hazelcast/hazelcast-jet/pull/554)
- [core] Add preferred local parallelism to all the sources and sinks. [[#552]](https://github.com/hazelcast/hazelcast-jet/pull/552)
- [core] `InsertWatermarksProcessor` will now log late events. [[#551]](https://github.com/hazelcast/hazelcast-jet/pull/551)
- [core] Add projection and predicate capability to map reader. [[#490]](https://github.com/hazelcast/hazelcast-jet/pull/490)
- [core] Hazelcast version is updated to 3.9. [[#474]](https://github.com/hazelcast/hazelcast-jet/pull/474)
- [java.util.stream] Support for creating a stream from any source. [[#360]](https://github.com/hazelcast/hazelcast-jet/pull/360)
- [kafka] Add ability to create own `ProducerRecord` instances for Kafka writer. [[#588]](https://github.com/hazelcast/hazelcast-jet/pull/588)
- [kafka] When a job, which includes Kafka source, is cancelled, `StreamKafkaP` throws `InterruptedException`. This exception should be prevented or it should give a descriptive log. [[#570]](https://github.com/hazelcast/hazelcast-jet/pull/570)
- [kafka] Add optional projection function to Kafka reader. [[#534]](https://github.com/hazelcast/hazelcast-jet/pull/534)
- [kafka] Add snapshotting support for Kafka reader. [[#500]](https://github.com/hazelcast/hazelcast-jet/pull/500)

#### Code Samples Improvements

- Overall module reorganization roughly divided to code samples using Pipeline API and Core API.
- Several examples migrated to use the new Pipeline API.
- New examples using hash join enrichment and co group. 
- New code samples illustrating the new event journal and fault tolerance features.
- New code samples showing how to use HDFS with `java.util.stream`.


## Fixes

- [core] The method `Job.getJobStatus()` does not reflect actual status during cancellation. [[#580]](https://github.com/hazelcast/hazelcast-jet/pull/580)
- [core] Add missing serializer for `Session` type. [[#562]](https://github.com/hazelcast/hazelcast-jet/pull/562)
- [core] Traversers.traverseStream should close stream when exhausted [560]
- [core] Kafka source should throw when partition count < global parallelism [559]
- [core] Suppress exception for flow control packet when member has already left cluster [556]
- [core] Fix ignored charset in StreamSocketP [553]
- [core] JetClassLoader should not throw on findResource [549]
- [core] Add cache manager in order not to require a dependency on javax.cache [485]
- [core] Fix NPE when releasing uninitialized ResourceStore  [478]
- [core] Replace `ReadFileStreamP` with batch file processor. [#373]
- [core] `ReadFileStreamP` should respect Outbox limit. [337]

- [kafka] When init phase for the job fails, StreamKafkaP throws NPE. There should be a null check. [568]


- [hdfs] Make sure proper global cleanup is performed on job cancellation [572]

