

This section lists the new features, enhancements, fixed issues and, removed or deprecated features for Hazelcast Jet 0.4 release.

## New Features


- [core] Infinite stream processing with event-time semantics using watermarks.
- [core] Out of the box processors for tumbling, sliding and session window aggregations. 
- [core] New `AggregateOperation` abstraction with several out of the box aggregators.
- [core] Bootstrapper script for submitting a JAR and running a DAG from it. [[#421]](https://github.com/hazelcast/hazelcast-jet/pull/421)
- [core] Sources and Sinks reorganized into Sources and Sinks static classes.
- [core] Added `Sources.streamSocket()` and `Sinks.writeSocket()` for reading from and writing to sockets. [[#358]](https://github.com/hazelcast/hazelcast-jet/pull/358), [[#363]](https://github.com/hazelcast/hazelcast-jet/pull/363)
- [core] Added `Sources.readFile()`, `Sources.streamFile()` and `Sources.writeFile()` for reading and writing files. [[#373]](https://github.com/hazelcast/hazelcast-jet/pull/373), [[#376]](https://github.com/hazelcast/hazelcast-jet/pull/376)
- [core] Added `Sources.readCache()` and `Sinks.writeCache()` for reading from and writing to Hazelcast ICache. [[#357]](https://github.com/hazelcast/hazelcast-jet/pull/357)
- [core] Added diagnostic processors for debugging. [[#426]](https://github.com/hazelcast/hazelcast-jet/pull/426) 

- [java.util.stream] java.util.stream support for ICache. [[#360]](https://github.com/hazelcast/hazelcast-jet/pull/360)
- [pcf] Hazelcast Jet tile for Pivotal Cloud Foundry was released.



## Enhancements


- [core] Hazelcast IMDG updated to 3.8.2 and is now shaded in the Jet JAR. [[#367]](https://github.com/hazelcast/hazelcast-jet/pull/367)
- [core] Blocking outbox support for non-cooperative processors. [[#372]](https://github.com/hazelcast/hazelcast-jet/pull/372), [[#375]](https://github.com/hazelcast/hazelcast-jet/pull/375)
- [core] `JobFuture` added to `Processor.Context`. [[#381]](https://github.com/hazelcast/hazelcast-jet/pull/381)
- [core] `Processor.Context.index()` renamed to `globalProcessorIndex()` and now returns a global index. [[#405]](https://github.com/hazelcast/hazelcast-jet/pull/405)
- [core] Fairer distribution of tasklets when number of cores is larger than number of tasklets in a job. [[#443]](https://github.com/hazelcast/hazelcast-jet/pull/443)
- [java.util.stream] Added configuration option to `DistributedStream`. [[#359]](https://github.com/hazelcast/hazelcast-jet/pull/359)

#### Code Samples Improvements

- Sliding window Stock exchange streaming sample. [[#19]](https://github.com/hazelcast/hazelcast-jet-code-samples/pull/19), [[#21]](https://github.com/hazelcast/hazelcast-jet-code-samples/pull/21)
- Hazelcast IMap/IList/ICache sample. [[#16]](https://github.com/hazelcast/hazelcast-jet-code-samples/pull/16)
- PCF-integration with Spring Boot sample. [[#17]](https://github.com/hazelcast/hazelcast-jet-code-samples/pull/17)
- Socket reader and writer examples with Netty. [[#15]](https://github.com/hazelcast/hazelcast-jet-code-samples/pull/15)
- Read and write files example. [[#24]](https://github.com/hazelcast/hazelcast-jet-code-samples/pull/24)
- Top N streaming example. [[#27]](https://github.com/hazelcast/hazelcast-jet-code-samples/pull/27)
- HashJoin and CoGroup samples added. [[#28]](https://github.com/hazelcast/hazelcast-jet-code-samples/pull/28), [[#29]](https://github.com/hazelcast/hazelcast-jet-code-samples/pull/29)


## Fixes

- [core] Missing return value for `JobConfig.addJar()`. [[#393]](https://github.com/hazelcast/hazelcast-jet/pull/393)
- [core] Improve reliability of `ExecutionService` on shutdown. [[#409]](https://github.com/hazelcast/hazelcast-jet/pull/409)
- [core] Metaspace memory was not recovered fully when custom class loader is used. [[#466]](https://github.com/hazelcast/hazelcast-jet/pull/466)

